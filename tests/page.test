# Test page settings                                                 -*-tcl-*-
#
# $Id$

source [file join [file dirname [file join [pwd] [info script]]] init.tcl]

test page-1.1 {page settings} -body {
    pdf4tcl::new apa
    set res {}
    lappend res [apa getDrawableArea]
    apa startPage
    lappend res [apa getDrawableArea]
    apa startPage -paper a3
    lappend res [apa getDrawableArea]
    apa startPage -landscape 1
    lappend res [apa getDrawableArea]
    apa startPage
    lappend res [apa getDrawableArea]
} -result {{595 842} {595 842} {842 1190} {842 595} {595 842}} \
        -cleanup {apa destroy}

test page-1.2 {page settings} -body {
    pdf4tcl::new apa -paper letter -landscape 1
    set res {}
    lappend res [apa getDrawableArea]
    apa startPage
    lappend res [apa getDrawableArea]
    apa startPage -paper a3
    lappend res [apa getDrawableArea]
    apa startPage -landscape 0
    lappend res [apa getDrawableArea]
    apa startPage
    lappend res [apa getDrawableArea]
} -result {{792 612} {792 612} {1190 842} {612 792} {792 612}} \
        -cleanup {apa destroy}

test page-1.3 {page settings, margin} -body {
    pdf4tcl::new apa -margin 10
    set res {}
    lappend res [apa getDrawableArea]
    apa startPage -margin {20 30}
    lappend res [apa getDrawableArea]
    apa startPage -margin {10 20 30 40}
    lappend res [apa getDrawableArea]
} -result {{575 822} {555 782} {565 772}} \
        -cleanup {apa destroy}
